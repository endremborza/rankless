import{T as B,s as T,r as S,u as C,h as R,d as w,j as b,i as z,A as W,z as E,l as j,m as q,k as x,w as A,n as O}from"./scheduler.93ee367b.js";import{S as U,i as D,h as F}from"./index.efb8b78c.js";import{e as M}from"./each.9cb10599.js";import{g as G}from"./text-format-util.859e8f55.js";function H(a){const t=a-1;return t*t*t+1}function p(a,{delay:t=0,duration:n=400,easing:o=B}={}){const r=+getComputedStyle(a).opacity;return{delay:t,duration:n,easing:o,css:i=>`opacity: ${i*r}`}}function V(a,{delay:t=0,duration:n=400,easing:o=H,axis:r="y"}={}){const i=getComputedStyle(a),c=+i.opacity,l=r==="y"?"height":"width",f=parseFloat(i[l]),e=r==="y"?["top","bottom"]:["left","right"],h=e.map(s=>`${s[0].toUpperCase()}${s.slice(1)}`),_=parseFloat(i[`padding${h[0]}`]),d=parseFloat(i[`padding${h[1]}`]),u=parseFloat(i[`margin${h[0]}`]),m=parseFloat(i[`margin${h[1]}`]),g=parseFloat(i[`border${h[0]}Width`]),y=parseFloat(i[`border${h[1]}Width`]);return{delay:t,duration:n,easing:o,css:s=>`overflow: hidden;opacity: ${Math.min(s*20,1)*c};${l}: ${s*f}px;padding-${e[0]}: ${s*_}px;padding-${e[1]}: ${s*d}px;margin-${e[0]}: ${s*u}px;margin-${e[1]}: ${s*m}px;border-${e[0]}-width: ${s*g}px;border-${e[1]}-width: ${s*y}px;`}}function k(a,t,n){const o=a.slice();return o[14]=t[n],o[16]=n,o}function v(a){let t,n=a[14]+"",o;return{c(){t=S("text"),o=j(n),this.h()},l(r){t=C(r,"text",{style:!0,"text-anchor":!0,class:!0});var i=R(t);o=q(i,n),i.forEach(w),this.h()},h(){x(t,"transform",a[2].translates[a[16]]),x(t,"transition","all "+a[1]+"ms"),b(t,"text-anchor","left"),b(t,"class","svelte-rx4rtt")},m(r,i){z(r,t,i),A(t,o)},p(r,i){i&8&&n!==(n=r[14]+"")&&O(o,n),i&4&&x(t,"transform",r[2].translates[r[16]]),i&2&&x(t,"transition","all "+r[1]+"ms")},d(r){r&&w(t)}}}function I(a){let t,n,o,r,i=M(a[3]),c=[];for(let l=0;l<i.length;l+=1)c[l]=v(k(a,i,l));return{c(){t=S("g");for(let l=0;l<c.length;l+=1)c[l].c();this.h()},l(l){t=C(l,"g",{style:!0});var f=R(t);for(let e=0;e<c.length;e+=1)c[e].l(f);f.forEach(w),this.h()},h(){b(t,"style",n=a[4]+"; transition: all "+a[1]+"ms")},m(l,f){z(l,t,f);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(t,null);r=!0},p(l,[f]){if(a=l,f&14){i=M(a[3]);let e;for(e=0;e<i.length;e+=1){const h=k(a,i,e);c[e]?c[e].p(h,f):(c[e]=v(h),c[e].c(),c[e].m(t,null))}for(;e<c.length;e+=1)c[e].d(1);c.length=i.length}(!r||f&18&&n!==(n=a[4]+"; transition: all "+a[1]+"ms"))&&b(t,"style",n)},i(l){r||(l&&W(()=>{r&&(o||(o=F(t,p,{duration:a[0]},!0)),o.run(1))}),r=!0)},o(l){l&&(o||(o=F(t,p,{duration:a[0]},!1)),o.run(0)),r=!1},d(l){l&&w(t),E(c,l),l&&o&&o.end()}}}const J=10;function K(a,t,n){let o,r,i,c,l,{text:f}=t,{width:e}=t,{height:h}=t,{anchor:_="left"}=t,{x:d=0}=t,{y:u=0}=t,{allowRotation:m=!0}=t,{fadeMs:g=600}=t,{transMs:y=800}=t;return a.$$set=s=>{"text"in s&&n(5,f=s.text),"width"in s&&n(6,e=s.width),"height"in s&&n(7,h=s.height),"anchor"in s&&n(8,_=s.anchor),"x"in s&&n(9,d=s.x),"y"in s&&n(10,u=s.y),"allowRotation"in s&&n(11,m=s.allowRotation),"fadeMs"in s&&n(0,g=s.fadeMs),"transMs"in s&&n(1,y=s.transMs)},a.$$.update=()=>{a.$$.dirty&32&&n(3,o=(f||"").split(" ")),a.$$.dirty&2504&&n(2,r=G(o,e,h,1.2,.6,J,_=="left",m)),a.$$.dirty&580&&n(13,i=`0,${-r.scale},${r.scale},0,${d+e}`),a.$$.dirty&516&&n(12,c=`${r.scale},0,0,${r.scale},${d}`),a.$$.dirty&13316&&n(4,l=`transform:  matrix(${r.rotate?i:c}, ${u})`)},[g,y,r,o,l,f,e,h,_,d,u,m,c,i]}class X extends U{constructor(t){super(),D(this,t,K,I,T,{text:5,width:6,height:7,anchor:8,x:9,y:10,allowRotation:11,fadeMs:0,transMs:1})}}export{X as B,p as f,V as s};
