import{s as T,R as F,S as B,h as j,d as _,j as u,i as E,M as q,P as z,l as C,m as P,k as w,w as W,n as A}from"./scheduler.84e3c04c.js";import{S as D,i as G,j as k}from"./index.4efd63ac.js";import{e as M}from"./each.e6d20371.js";import{g as H}from"./text-format-util.d960c1ff.js";import{f as b}from"./index.9d792c6d.js";function R(n,t,e){const s=n.slice();return s[13]=t[e],s[15]=e,s}function S(n){let t,e=n[13]+"",s;return{c(){t=F("text"),s=C(e),this.h()},l(r){t=B(r,"text",{style:!0,"text-anchor":!0,class:!0});var l=j(t);s=P(l,e),l.forEach(_),this.h()},h(){w(t,"transform",n[1].translates[n[15]]),u(t,"text-anchor","left"),u(t,"class","svelte-f0lrv")},m(r,l){E(r,t,l),W(t,s)},p(r,l){l&4&&e!==(e=r[13]+"")&&A(s,e),l&2&&w(t,"transform",r[1].translates[r[15]])},d(r){r&&_(t)}}}function I(n){let t,e,s,r=M(n[2]),l=[];for(let i=0;i<r.length;i+=1)l[i]=S(R(n,r,i));return{c(){t=F("g");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){t=B(i,"g",{style:!0});var o=j(t);for(let a=0;a<l.length;a+=1)l[a].l(o);o.forEach(_),this.h()},h(){u(t,"style",n[3])},m(i,o){E(i,t,o);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(t,null);s=!0},p(i,[o]){if(n=i,o&6){r=M(n[2]);let a;for(a=0;a<r.length;a+=1){const h=R(n,r,a);l[a]?l[a].p(h,o):(l[a]=S(h),l[a].c(),l[a].m(t,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=r.length}(!s||o&8)&&u(t,"style",n[3])},i(i){s||(i&&q(()=>{s&&(e||(e=k(t,b,{duration:n[0]},!0)),e.run(1))}),s=!0)},o(i){i&&(e||(e=k(t,b,{duration:n[0]},!1)),e.run(0)),s=!1},d(i){i&&_(t),z(l,i),i&&e&&e.end()}}}const J=10;function K(n,t,e){let s,r,l,i,o,{text:a}=t,{width:h}=t,{height:m}=t,{anchor:d="left"}=t,{x:c=0}=t,{y:g=0}=t,{allowRotation:y=!0}=t,{fadeMs:x=600}=t;return n.$$set=f=>{"text"in f&&e(4,a=f.text),"width"in f&&e(5,h=f.width),"height"in f&&e(6,m=f.height),"anchor"in f&&e(7,d=f.anchor),"x"in f&&e(8,c=f.x),"y"in f&&e(9,g=f.y),"allowRotation"in f&&e(10,y=f.allowRotation),"fadeMs"in f&&e(0,x=f.fadeMs)},n.$$.update=()=>{n.$$.dirty&16&&e(2,s=(a||"").split(" ")),n.$$.dirty&1252&&e(1,r=H(s,h,m,1.2,.6,J,d=="left",y)),n.$$.dirty&290&&e(12,l=`0,${-r.scale},${r.scale},0,${c+h}`),n.$$.dirty&258&&e(11,i=`${r.scale},0,0,${r.scale},${c}`),n.$$.dirty&6658&&e(3,o=`transform:  matrix(${r.rotate?l:i}, ${g})`)},[x,r,s,o,a,h,m,d,c,g,y,i,l]}class V extends D{constructor(t){super(),G(this,t,K,I,T,{text:4,width:5,height:6,anchor:7,x:8,y:9,allowRotation:10,fadeMs:0})}}export{V as B};
