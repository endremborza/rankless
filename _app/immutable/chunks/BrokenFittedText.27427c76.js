import{U as T,s as j,D as R,E as B,h as C,d as _,j as u,i as E,F as q,C as z,l as D,m as U,k as w,w as W,n as A}from"./scheduler.e598cd7a.js";import{S as G,i as H,f as k}from"./index.4ed27930.js";import{e as M}from"./each.e3b9d4d5.js";import{g as I}from"./text-format-util.d960c1ff.js";function b(i,{delay:t=0,duration:e=400,easing:s=T}={}){const n=+getComputedStyle(i).opacity;return{delay:t,duration:e,easing:s,css:l=>`opacity: ${l*n}`}}function F(i,t,e){const s=i.slice();return s[13]=t[e],s[15]=e,s}function S(i){let t,e=i[13]+"",s;return{c(){t=R("text"),s=D(e),this.h()},l(n){t=B(n,"text",{style:!0,"text-anchor":!0,class:!0});var l=C(t);s=U(l,e),l.forEach(_),this.h()},h(){w(t,"transform",i[1].translates[i[15]]),u(t,"text-anchor","left"),u(t,"class","svelte-f0lrv")},m(n,l){E(n,t,l),W(t,s)},p(n,l){l&4&&e!==(e=n[13]+"")&&A(s,e),l&2&&w(t,"transform",n[1].translates[n[15]])},d(n){n&&_(t)}}}function J(i){let t,e,s,n=M(i[2]),l=[];for(let a=0;a<n.length;a+=1)l[a]=S(F(i,n,a));return{c(){t=R("g");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){t=B(a,"g",{style:!0});var o=C(t);for(let r=0;r<l.length;r+=1)l[r].l(o);o.forEach(_),this.h()},h(){u(t,"style",i[3])},m(a,o){E(a,t,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(t,null);s=!0},p(a,[o]){if(i=a,o&6){n=M(i[2]);let r;for(r=0;r<n.length;r+=1){const h=F(i,n,r);l[r]?l[r].p(h,o):(l[r]=S(h),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}(!s||o&8)&&u(t,"style",i[3])},i(a){s||(a&&q(()=>{s&&(e||(e=k(t,b,{duration:i[0]},!0)),e.run(1))}),s=!0)},o(a){a&&(e||(e=k(t,b,{duration:i[0]},!1)),e.run(0)),s=!1},d(a){a&&_(t),z(l,a),a&&e&&e.end()}}}const K=10;function L(i,t,e){let s,n,l,a,o,{text:r}=t,{width:h}=t,{height:d}=t,{anchor:m="left"}=t,{x:c=0}=t,{y:g=0}=t,{allowRotation:y=!0}=t,{fadeMs:x=600}=t;return i.$$set=f=>{"text"in f&&e(4,r=f.text),"width"in f&&e(5,h=f.width),"height"in f&&e(6,d=f.height),"anchor"in f&&e(7,m=f.anchor),"x"in f&&e(8,c=f.x),"y"in f&&e(9,g=f.y),"allowRotation"in f&&e(10,y=f.allowRotation),"fadeMs"in f&&e(0,x=f.fadeMs)},i.$$.update=()=>{i.$$.dirty&16&&e(2,s=(r||"").split(" ")),i.$$.dirty&1252&&e(1,n=I(s,h,d,1.2,.6,K,m=="left",y)),i.$$.dirty&290&&e(12,l=`0,${-n.scale},${n.scale},0,${c+h}`),i.$$.dirty&258&&e(11,a=`${n.scale},0,0,${n.scale},${c}`),i.$$.dirty&6658&&e(3,o=`transform:  matrix(${n.rotate?l:a}, ${g})`)},[x,n,s,o,r,h,d,m,c,g,y,a,l]}class V extends G{constructor(t){super(),H(this,t,L,J,j,{text:4,width:5,height:6,anchor:7,x:8,y:9,allowRotation:10,fadeMs:0})}}export{V as B,b as f};
