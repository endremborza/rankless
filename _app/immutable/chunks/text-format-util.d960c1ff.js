function T(e){return e>1e6?`${(e/1e6).toFixed(1)}M`:e>1e3?`${(e/1e3).toFixed(1)}k`:e<1?e.toFixed(2):e<10?e.toFixed(1):e.toFixed(0)}function k(e,r,s,l,o,n,c,t){const u=m(e,r,s,l,o);let g=!1,{lines:a,fontSize:f}=u;if(t){const i=m(e,s,r,l,o);u.fontSize<i.fontSize&&(g=!0,a=i.lines,f=i.fontSize)}const d=[],h=f/n;for(const[i,x]of a.entries()){const y=i-a.length+1,F=c?0:-z(x.words)*o*n/2;let L=0;for(const B of x.words){const I=y*l*n,$=F+L*o*n;d.push(`translate(${$}px, ${I}px)`),L+=B.length+1}}return{translates:d,scale:h,rotate:g}}function m(e,r,s,l,o){let n=1;const c=z(e);let t=[{words:e,length:c}],u,g,a,f=0;for(const d of Array(7)){if(u=t.reduce((h,i)=>Math.max(h,i.length),-1/0),g=r/(u*o),a=S(s,l,n),f=Math.min(g,a),t.length==e.length||f>=S(s,l,n+1))return{lines:t,fontSize:f};if(t=p(e,c,n+1),n==t.length)break;n=t.length}return{lines:t,fontSize:f}}function p(e,r,s){const l=[];let o=[],n=0;const c=r/s*1.25;for(const t of e)n+=t.length+1,n>c&&o.length>0&&(l.push({words:o,length:n-t.length-2}),o=[],n=t.length+1),o.push(t);return o.length>0&&l.push({words:o,length:n-1}),l}function S(e,r,s){return e/(1+(s-1)*r)}function z(e){return e.reduce((r,s)=>r+s.length+1,0)-1}export{T as f,k as g};
