import{T as C,s as j,u as R,w as B,h as E,d as _,j as u,i as T,G as q,E as z,l as G,m as W,k as w,y as A,n as D}from"./scheduler.c71c511d.js";import{S as H,i as I,h as k}from"./index.7d58e6c4.js";import{e as M}from"./each.19beb08f.js";import{g as J}from"./text-format-util.d960c1ff.js";function b(i,{delay:t=0,duration:e=400,easing:s=C}={}){const n=+getComputedStyle(i).opacity;return{delay:t,duration:e,easing:s,css:l=>`opacity: ${l*n}`}}function S(i,t,e){const s=i.slice();return s[13]=t[e],s[15]=e,s}function F(i){let t,e=i[13]+"",s;return{c(){t=R("text"),s=G(e),this.h()},l(n){t=B(n,"text",{style:!0,"text-anchor":!0,class:!0});var l=E(t);s=W(l,e),l.forEach(_),this.h()},h(){w(t,"transform",i[1].translates[i[15]]),u(t,"text-anchor","left"),u(t,"class","svelte-f0lrv")},m(n,l){T(n,t,l),A(t,s)},p(n,l){l&4&&e!==(e=n[13]+"")&&D(s,e),l&2&&w(t,"transform",n[1].translates[n[15]])},d(n){n&&_(t)}}}function K(i){let t,e,s,n=M(i[2]),l=[];for(let a=0;a<n.length;a+=1)l[a]=F(S(i,n,a));return{c(){t=R("g");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){t=B(a,"g",{style:!0});var f=E(t);for(let r=0;r<l.length;r+=1)l[r].l(f);f.forEach(_),this.h()},h(){u(t,"style",i[3])},m(a,f){T(a,t,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(t,null);s=!0},p(a,[f]){if(i=a,f&6){n=M(i[2]);let r;for(r=0;r<n.length;r+=1){const h=S(i,n,r);l[r]?l[r].p(h,f):(l[r]=F(h),l[r].c(),l[r].m(t,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}(!s||f&8)&&u(t,"style",i[3])},i(a){s||(a&&q(()=>{s&&(e||(e=k(t,b,{duration:i[0]},!0)),e.run(1))}),s=!0)},o(a){a&&(e||(e=k(t,b,{duration:i[0]},!1)),e.run(0)),s=!1},d(a){a&&_(t),z(l,a),a&&e&&e.end()}}}const L=10;function N(i,t,e){let s,n,l,a,f,{text:r}=t,{width:h}=t,{height:d}=t,{anchor:m="left"}=t,{x:c=0}=t,{y=0}=t,{allowRotation:g=!0}=t,{fadeMs:x=600}=t;return i.$$set=o=>{"text"in o&&e(4,r=o.text),"width"in o&&e(5,h=o.width),"height"in o&&e(6,d=o.height),"anchor"in o&&e(7,m=o.anchor),"x"in o&&e(8,c=o.x),"y"in o&&e(9,y=o.y),"allowRotation"in o&&e(10,g=o.allowRotation),"fadeMs"in o&&e(0,x=o.fadeMs)},i.$$.update=()=>{i.$$.dirty&16&&e(2,s=(r||"").split(" ")),i.$$.dirty&1252&&e(1,n=J(s,h,d,1.2,.6,L,m=="left",g)),i.$$.dirty&290&&e(12,l=`0,${-n.scale},${n.scale},0,${c+h}`),i.$$.dirty&258&&e(11,a=`${n.scale},0,0,${n.scale},${c}`),i.$$.dirty&6658&&e(3,f=`transform:  matrix(${n.rotate?l:a}, ${y})`)},[x,n,s,f,r,h,d,m,c,y,g,a,l]}class V extends H{constructor(t){super(),I(this,t,N,K,j,{text:4,width:5,height:6,anchor:7,x:8,y:9,allowRotation:10,fadeMs:0})}}export{V as B,b as f};
