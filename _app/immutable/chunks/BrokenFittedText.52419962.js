import{s as j,r as B,u as z,h as E,d as m,j as g,i as T,A as q,z as A,l as C,m as W,k as u,w as D,n as G}from"./scheduler.123ed526.js";import{S as H,i as I,h as k}from"./index.3f7f7540.js";import{e as b}from"./each.d23818b1.js";import{g as J}from"./text-format-util.859e8f55.js";import{f as F}from"./index.453d5244.js";function R(l,t,e){const r=l.slice();return r[14]=t[e],r[16]=e,r}function S(l){let t,e=l[14]+"",r;return{c(){t=B("text"),r=C(e),this.h()},l(a){t=z(a,"text",{style:!0,"text-anchor":!0,class:!0});var f=E(t);r=W(f,e),f.forEach(m),this.h()},h(){u(t,"transform",l[2].translates[l[16]]),u(t,"transition","all "+l[1]+"ms"),g(t,"text-anchor","left"),g(t,"class","svelte-rx4rtt")},m(a,f){T(a,t,f),D(t,r)},p(a,f){f&8&&e!==(e=a[14]+"")&&G(r,e),f&4&&u(t,"transform",a[2].translates[a[16]]),f&2&&u(t,"transition","all "+a[1]+"ms")},d(a){a&&m(t)}}}function K(l){let t,e,r,a,f=b(l[3]),s=[];for(let i=0;i<f.length;i+=1)s[i]=S(R(l,f,i));return{c(){t=B("g");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){t=z(i,"g",{style:!0});var h=E(t);for(let n=0;n<s.length;n+=1)s[n].l(h);h.forEach(m),this.h()},h(){g(t,"style",e=l[4]+"; transition: all "+l[1]+"ms")},m(i,h){T(i,t,h);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(t,null);a=!0},p(i,[h]){if(l=i,h&14){f=b(l[3]);let n;for(n=0;n<f.length;n+=1){const _=R(l,f,n);s[n]?s[n].p(_,h):(s[n]=S(_),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=f.length}(!a||h&18&&e!==(e=l[4]+"; transition: all "+l[1]+"ms"))&&g(t,"style",e)},i(i){a||(i&&q(()=>{a&&(r||(r=k(t,F,{duration:l[0]},!0)),r.run(1))}),a=!0)},o(i){i&&(r||(r=k(t,F,{duration:l[0]},!1)),r.run(0)),a=!1},d(i){i&&m(t),A(s,i),i&&r&&r.end()}}}const L=10;function N(l,t,e){let r,a,f,s,i,{text:h}=t,{width:n}=t,{height:_}=t,{anchor:d="left"}=t,{x:c=0}=t,{y=0}=t,{allowRotation:x=!0}=t,{fadeMs:w=600}=t,{transMs:M=800}=t;return l.$$set=o=>{"text"in o&&e(5,h=o.text),"width"in o&&e(6,n=o.width),"height"in o&&e(7,_=o.height),"anchor"in o&&e(8,d=o.anchor),"x"in o&&e(9,c=o.x),"y"in o&&e(10,y=o.y),"allowRotation"in o&&e(11,x=o.allowRotation),"fadeMs"in o&&e(0,w=o.fadeMs),"transMs"in o&&e(1,M=o.transMs)},l.$$.update=()=>{l.$$.dirty&32&&e(3,r=(h||"").split(" ")),l.$$.dirty&2504&&e(2,a=J(r,n,_,1.2,.6,L,d=="left",x)),l.$$.dirty&580&&e(13,f=`0,${-a.scale},${a.scale},0,${c+n}`),l.$$.dirty&516&&e(12,s=`${a.scale},0,0,${a.scale},${c}`),l.$$.dirty&13316&&e(4,i=`transform:  matrix(${a.rotate?f:s}, ${y})`)},[w,M,a,r,i,h,n,_,d,c,y,x,s,f]}class X extends H{constructor(t){super(),I(this,t,N,K,j,{text:5,width:6,height:7,anchor:8,x:9,y:10,allowRotation:11,fadeMs:0,transMs:1})}}export{X as B};
