import{_ as ut,s as ze,f as S,a as D,g as I,h as O,c as R,d as g,j as _,k as E,i as W,w as m,I as X,A as re,P as Oe,l as J,m as K,n as ee,R as x,S as $,e as we,p as Ye,D as Ee,X as xe,M as Le,H as ye,J as Ne,v as ae,U as ht}from"./scheduler.84e3c04c.js";import{S as Be,i as We,a as Z,g as Ce,t as Q,c as Se,k as $e,b as ge,d as be,m as ve,j as oe,e as pe}from"./index.4efd63ac.js";import{e as te}from"./each.e6d20371.js";import{f as fe}from"./index.9d792c6d.js";import{B as dt}from"./BrokenFittedText.ccf9adf8.js";function ct(){return ut()}function Vt(e,t,l,n,s){return()=>{e("ti",{path:l,action:t,topLeftCorner:{x:n,y:s}})}}function Re(e,t){return()=>{e("ce",{ind:t})}}function je(e,t,l){const n=e.slice();return n[11]=t[l],n}function Ae(e){let t,l=e[11]+"",n,s;return{c(){t=S("div"),n=J(l),s=D(),this.h()},l(r){t=I(r,"DIV",{class:!0});var a=O(t);n=K(a,l),a.forEach(g),s=R(r),this.h()},h(){_(t,"class","svelte-6fgk1b")},m(r,a){W(r,t,a),m(t,n),W(r,s,a)},p(r,a){a&1&&l!==(l=r[11]+"")&&ee(n,l)},d(r){r&&(g(t),g(s))}}}function _t(e){let t,l,n,s,r,a,u=te(e[0]),o=[];for(let f=0;f<u.length;f+=1)o[f]=Ae(je(e,u,f));return{c(){t=S("label"),l=S("input"),n=D(),s=S("span");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){t=I(f,"LABEL",{class:!0,style:!0});var h=O(t);l=I(h,"INPUT",{type:!0,class:!0}),n=R(h),s=I(h,"SPAN",{class:!0});var i=O(s);for(let d=0;d<o.length;d+=1)o[d].l(i);i.forEach(g),h.forEach(g),this.h()},h(){_(l,"type","checkbox"),_(l,"class","svelte-6fgk1b"),_(s,"class","slider round svelte-6fgk1b"),_(t,"class","switch svelte-6fgk1b"),E(t,"--pad",e[1]+"px"),E(t,"--fw",e[4]+"px"),E(t,"--w",e[4]/2+"px"),E(t,"--tw",e[4]/2-2*e[1]+"px"),E(t,"--height",e[2]+"px"),E(t,"--full-height",e[2]+2*e[1]+"px"),E(t,"--label","'"+e[5]+"'")},m(f,h){W(f,t,h),m(t,l),l.checked=e[3],m(t,n),m(t,s);for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(s,null);r||(a=X(l,"change",e[9]),r=!0)},p(f,[h]){if(h&8&&(l.checked=f[3]),h&1){u=te(f[0]);let i;for(i=0;i<u.length;i+=1){const d=je(f,u,i);o[i]?o[i].p(d,h):(o[i]=Ae(d),o[i].c(),o[i].m(s,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=u.length}h&2&&E(t,"--pad",f[1]+"px"),h&16&&E(t,"--fw",f[4]+"px"),h&16&&E(t,"--w",f[4]/2+"px"),h&18&&E(t,"--tw",f[4]/2-2*f[1]+"px"),h&4&&E(t,"--height",f[2]+"px"),h&6&&E(t,"--full-height",f[2]+2*f[1]+"px"),h&32&&E(t,"--label","'"+f[5]+"'")},i:re,o:re,d(f){f&&g(t),Oe(o,f),r=!1,a()}}}function mt(e){return((e[0].length>e[1].length?e[0].length:e[1].length)*.8+2)*20}function gt(e,t,l){let n,s,{values:r=["On","Off"]}=t,{labels:a=r.map(c=>c.toString())}=t,{value:u=r[0]}=t,{pad:o=5}=t,{height:f=26}=t,{width:h=void 0}=t,i=u==r[1];const d=c=>{l(6,u=c?r[1]:r[0])};function w(){i=this.checked,l(3,i)}return e.$$set=c=>{"values"in c&&l(7,r=c.values),"labels"in c&&l(0,a=c.labels),"value"in c&&l(6,u=c.value),"pad"in c&&l(1,o=c.pad),"height"in c&&l(2,f=c.height),"width"in c&&l(8,h=c.width)},e.$$.update=()=>{e.$$.dirty&9&&l(5,n=i?a[1]:a[0]),e.$$.dirty&8&&d(i),e.$$.dirty&257&&l(4,s=h||mt(a))},[a,o,f,i,s,n,u,r,h,w]}class et extends Be{constructor(t){super(),We(this,t,gt,_t,ze,{values:7,labels:0,value:6,pad:1,height:2,width:8})}}function bt(e){let t,l,n,s,r,a,u,o,f,h;return{c(){t=x("path"),n=D(),s=x("path"),a=D(),u=x("g"),o=x("path"),this.h()},l(i){t=$(i,"path",{d:!0,fill:!0,"fill-opacity":!0,class:!0}),O(t).forEach(g),n=R(i),s=$(i,"path",{d:!0,fill:!0,class:!0}),O(s).forEach(g),a=R(i),u=$(i,"g",{style:!0,class:!0});var d=O(u);o=$(d,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,fill:!0,class:!0}),O(o).forEach(g),d.forEach(g),this.h()},h(){_(t,"d",l="M0 0 H"+e[0]+" V"+e[0]+" H0 V0 Z"),_(t,"fill","var(--color-theme-blue)"),_(t,"fill-opacity","0.7"),_(t,"class","svelte-12wtsp1"),_(s,"d",r="M0 "+e[2]+" H"+e[0]+" V0 H0 V0 Z"),_(s,"fill","var(--color-theme-lightblue)"),_(s,"class","svelte-12wtsp1"),_(o,"d",f="M"+e[0]*_e+" "+e[3]+" L"+e[0]*.5+" "+e[0]*me+" L"+e[0]*(1-_e)+" "+e[3]),_(o,"stroke","var(--color-theme-white)"),_(o,"stroke-width",h=Pe*e[0]),_(o,"stroke-linecap","round"),_(o,"stroke-linejoin","round"),_(o,"fill","none"),_(o,"class","svelte-12wtsp1"),E(u,"--rot",e[1]+"deg"),E(u,"--rx",e[0]/2+"px"),E(u,"--ry",e[0]*(Te+me)/2+"px"),_(u,"class","svelte-12wtsp1")},m(i,d){W(i,t,d),W(i,n,d),W(i,s,d),W(i,a,d),W(i,u,d),m(u,o)},p(i,[d]){d&1&&l!==(l="M0 0 H"+i[0]+" V"+i[0]+" H0 V0 Z")&&_(t,"d",l),d&5&&r!==(r="M0 "+i[2]+" H"+i[0]+" V0 H0 V0 Z")&&_(s,"d",r),d&9&&f!==(f="M"+i[0]*_e+" "+i[3]+" L"+i[0]*.5+" "+i[0]*me+" L"+i[0]*(1-_e)+" "+i[3])&&_(o,"d",f),d&1&&h!==(h=Pe*i[0])&&_(o,"stroke-width",h),d&2&&E(u,"--rot",i[1]+"deg"),d&1&&E(u,"--rx",i[0]/2+"px"),d&1&&E(u,"--ry",i[0]*(Te+me)/2+"px")},i:re,o:re,d(i){i&&(g(t),g(n),g(s),g(a),g(u))}}}let vt=.13,_e=.15,me=.78,Te=.34,Pe=.08;function pt(e,t,l){let n,s,{size:r=3}=t,{rotated:a=0}=t,{text:u="expand"}=t;return e.$$set=o=>{"size"in o&&l(0,r=o.size),"rotated"in o&&l(1,a=o.rotated),"text"in o&&l(4,u=o.text)},e.$$.update=()=>{e.$$.dirty&1&&l(3,n=r*Te),e.$$.dirty&1&&l(2,s=r*vt)},[r,a,s,n,u]}class kt extends Be{constructor(t){super(),We(this,t,pt,bt,ze,{size:0,rotated:1,text:4})}}function Ue(e,t,l){const n=e.slice();return n[53]=t[l],n}function Me(e,t,l){const n=e.slice();return n[47]=t[l],n}function Fe(e,t,l){const n=e.slice();return n[50]=t[l],n}function Ze(e){var ne,de;let t,l,n,s,r,a,u,o,f,h,i,d,w,c,C,T,U,q,H,b,L,v,p,B,ue;n=new dt({props:{text:((de=(ne=e[4])==null?void 0:ne.bifurcations[e[1]])==null?void 0:de.description)||"",width:e[2]*.9,height:e[14]*2,x:e[2]*.1,y:-.5}});function le(N){e[40](N)}let j={values:e[29],width:e[23]};e[0][e[1]].size_base!==void 0&&(j.value=e[0][e[1]].size_base),u=new et({props:j}),Ye.push(()=>$e(u,"value",le));let V=e[12]&&qe(e),z=e[11]&&Qe(e),A=e[10]&&Je(e);return L=new kt({props:{size:e[14],text:e[10]?"collapse":"expand",rotated:e[10]?180:0}}),{c(){t=x("g"),l=x("rect"),ge(n.$$.fragment),s=x("foreignObject"),r=S("div"),a=S("div"),ge(u.$$.fragment),f=D(),h=S("div"),V&&V.c(),d=D(),w=S("div"),z&&z.c(),C=D(),T=S("div"),A&&A.c(),q=D(),b=x("g"),ge(L.$$.fragment),this.h()},l(N){t=$(N,"g",{style:!0});var y=O(t);l=$(y,"rect",{fill:!0,height:!0,width:!0,style:!0,class:!0}),O(l).forEach(g),be(n.$$.fragment,y),s=$(y,"foreignObject",{width:!0,height:!0,style:!0,class:!0});var M=O(s);r=I(M,"DIV",{class:!0,style:!0});var P=O(r);a=I(P,"DIV",{class:!0});var G=O(a);be(u.$$.fragment,G),G.forEach(g),f=R(P),h=I(P,"DIV",{class:!0,style:!0});var ie=O(h);V&&V.l(ie),ie.forEach(g),d=R(P),w=I(P,"DIV",{class:!0});var se=O(w);z&&z.l(se),se.forEach(g),C=R(P),T=I(P,"DIV",{class:!0});var ce=O(T);A&&A.l(ce),ce.forEach(g),q=R(P),P.forEach(g),M.forEach(g),b=$(y,"g",{style:!0});var Y=O(b);be(L.$$.fragment,Y),Y.forEach(g),y.forEach(g),this.h()},h(){_(l,"fill","grey"),_(l,"height","1"),_(l,"width",e[3]),E(l,"transform","matrix(1, 0, 0, "+e[15]+", 0, 0)"),E(l,"opacity",e[10]?.5:.3),_(l,"class","svelte-1bnkwyr"),_(a,"class","control-elem svelte-1bnkwyr"),_(h,"class",i="control-elem "+e[21]+" svelte-1bnkwyr"),E(h,"--r",ke+(e[23]-He)*(e[0][e[1]].limit_n-e[6])/(e[5]-e[6])+"px"),_(w,"class",c="control-elem "+e[20]+" svelte-1bnkwyr"),_(T,"class",U="control-elem "+e[19]+" svelte-1bnkwyr"),_(r,"class","main-controls svelte-1bnkwyr"),E(r,"--full-width",e[7]+"px"),E(r,"--slider-width",e[23]+"px"),E(r,"--label-width",ke+"px"),E(r,"--thumb-width",He+"px"),E(r,"--slider-height",Ve+"px"),E(r,"--thumb-height",e[26]+"px"),_(s,"width",e[7]),_(s,"height",H=e[15]/e[16]),E(s,"transform","matrix("+e[16]+", 0, 0, "+e[16]+", 0, 0)"),_(s,"class","svelte-1bnkwyr"),E(b,"transform","matrix(1,0,0,1,"+e[2]*.85+", "+e[15]*.03+")"),E(t,"--y-off",e[22]+"px")},m(N,y){W(N,t,y),m(t,l),ve(n,t,null),m(t,s),m(s,r),m(r,a),ve(u,a,null),m(r,f),m(r,h),V&&V.m(h,null),m(r,d),m(r,w),z&&z.m(w,null),m(r,C),m(r,T),A&&A.m(T,null),m(r,q),m(t,b),ve(L,b,null),p=!0,B||(ue=X(b,"click",function(){Ee(Re(e[25],e[1]))&&Re(e[25],e[1]).apply(this,arguments)}),B=!0)},p(N,y){var ie,se;e=N,(!p||y[0]&8)&&_(l,"width",e[3]),(!p||y[0]&32768)&&E(l,"transform","matrix(1, 0, 0, "+e[15]+", 0, 0)"),(!p||y[0]&1024)&&E(l,"opacity",e[10]?.5:.3);const M={};y[0]&18&&(M.text=((se=(ie=e[4])==null?void 0:ie.bifurcations[e[1]])==null?void 0:se.description)||""),y[0]&4&&(M.width=e[2]*.9),y[0]&16384&&(M.height=e[14]*2),y[0]&4&&(M.x=e[2]*.1),n.$set(M);const P={};y[0]&8388608&&(P.width=e[23]),!o&&y[0]&3&&(o=!0,P.value=e[0][e[1]].size_base,xe(()=>o=!1)),u.$set(P),e[12]?V?(V.p(e,y),y[0]&4096&&Z(V,1)):(V=qe(e),V.c(),Z(V,1),V.m(h,null)):V&&(Ce(),Q(V,1,1,()=>{V=null}),Se()),(!p||y[0]&2097152&&i!==(i="control-elem "+e[21]+" svelte-1bnkwyr"))&&_(h,"class",i),(!p||y[0]&8388707)&&E(h,"--r",ke+(e[23]-He)*(e[0][e[1]].limit_n-e[6])/(e[5]-e[6])+"px"),e[11]?z?(z.p(e,y),y[0]&2048&&Z(z,1)):(z=Qe(e),z.c(),Z(z,1),z.m(w,null)):z&&(Ce(),Q(z,1,1,()=>{z=null}),Se()),(!p||y[0]&1048576&&c!==(c="control-elem "+e[20]+" svelte-1bnkwyr"))&&_(w,"class",c),e[10]?A?A.p(e,y):(A=Je(e),A.c(),A.m(T,null)):A&&(A.d(1),A=null),(!p||y[0]&524288&&U!==(U="control-elem "+e[19]+" svelte-1bnkwyr"))&&_(T,"class",U),(!p||y[0]&128)&&E(r,"--full-width",e[7]+"px"),(!p||y[0]&8388608)&&E(r,"--slider-width",e[23]+"px"),(!p||y[0]&128)&&_(s,"width",e[7]),(!p||y[0]&98304&&H!==(H=e[15]/e[16]))&&_(s,"height",H),(!p||y[0]&65536)&&E(s,"transform","matrix("+e[16]+", 0, 0, "+e[16]+", 0, 0)");const G={};y[0]&16384&&(G.size=e[14]),y[0]&1024&&(G.text=e[10]?"collapse":"expand"),y[0]&1024&&(G.rotated=e[10]?180:0),L.$set(G),(!p||y[0]&32772)&&E(b,"transform","matrix(1,0,0,1,"+e[2]*.85+", "+e[15]*.03+")"),(!p||y[0]&4194304)&&E(t,"--y-off",e[22]+"px")},i(N){p||(Z(n.$$.fragment,N),Z(u.$$.fragment,N),Z(V),Z(z),Z(L.$$.fragment,N),N&&Le(()=>{p&&(v||(v=oe(t,fe,{duration:Ie},!0)),v.run(1))}),p=!0)},o(N){Q(n.$$.fragment,N),Q(u.$$.fragment,N),Q(V),Q(z),Q(L.$$.fragment,N),N&&(v||(v=oe(t,fe,{duration:Ie},!1)),v.run(0)),p=!1},d(N){N&&g(t),pe(n),pe(u),V&&V.d(),z&&z.d(),A&&A.d(),pe(L),N&&v&&v.end(),B=!1,ue()}}}function qe(e){let t,l,n,s,r,a,u,o,f,h,i,d,w=e[0][e[1]].limit_n+"",c,C,T,U,q;return{c(){t=S("div"),l=S("div"),n=S("span"),s=J(e[6]),r=D(),a=S("input"),u=D(),o=S("span"),f=J(e[5]),h=D(),i=S("label"),d=J("show "),c=J(w),this.h()},l(H){t=I(H,"DIV",{id:!0,class:!0});var b=O(t);l=I(b,"DIV",{id:!0,class:!0});var L=O(l);n=I(L,"SPAN",{class:!0});var v=O(n);s=K(v,e[6]),v.forEach(g),r=R(L),a=I(L,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),u=R(L),o=I(L,"SPAN",{class:!0});var p=O(o);f=K(p,e[5]),p.forEach(g),L.forEach(g),h=R(b),i=I(b,"LABEL",{for:!0,class:!0});var B=O(i);d=K(B,"show "),c=K(B,w),B.forEach(g),b.forEach(g),this.h()},h(){_(n,"class","svelte-1bnkwyr"),_(a,"id","topn-input"),_(a,"type","range"),_(a,"min",e[6]),_(a,"max",e[5]),_(a,"class","svelte-1bnkwyr"),_(o,"class","svelte-1bnkwyr"),_(l,"id","topn-slider"),_(l,"class","svelte-1bnkwyr"),_(i,"for","topn-input"),_(i,"class","svelte-1bnkwyr"),_(t,"id","topn-control"),_(t,"class","svelte-1bnkwyr")},m(H,b){W(H,t,b),m(t,l),m(l,n),m(n,s),m(l,r),m(l,a),ye(a,e[0][e[1]].limit_n),m(l,u),m(l,o),m(o,f),m(t,h),m(t,i),m(i,d),m(i,c),T=!0,U||(q=[X(a,"change",e[41]),X(a,"input",e[41])],U=!0)},p(H,b){e=H,(!T||b[0]&64)&&ee(s,e[6]),(!T||b[0]&64)&&_(a,"min",e[6]),(!T||b[0]&32)&&_(a,"max",e[5]),b[0]&3&&ye(a,e[0][e[1]].limit_n),(!T||b[0]&32)&&ee(f,e[5]),(!T||b[0]&3)&&w!==(w=e[0][e[1]].limit_n+"")&&ee(c,w)},i(H){T||(H&&Le(()=>{T&&(C||(C=oe(t,fe,{duration:Ie},!0)),C.run(1))}),T=!0)},o(H){H&&(C||(C=oe(t,fe,{duration:Ie},!1)),C.run(0)),T=!1},d(H){H&&g(t),H&&C&&C.end(),U=!1,Ne(q)}}}function Qe(e){let t,l,n;function s(a){e[42](a)}let r={values:e[30],width:e[23]};return e[9]!==void 0&&(r.value=e[9]),t=new et({props:r}),Ye.push(()=>$e(t,"value",s)),{c(){ge(t.$$.fragment)},l(a){be(t.$$.fragment,a)},m(a,u){ve(t,a,u),n=!0},p(a,u){const o={};u[0]&8388608&&(o.width=a[23]),!l&&u[0]&512&&(l=!0,o.value=a[9],xe(()=>l=!1)),t.$set(o)},i(a){n||(Z(t.$$.fragment,a),n=!0)},o(a){Q(t.$$.fragment,a),n=!1},d(a){pe(t,a)}}}function Je(e){let t,l,n,s,r,a,u,o=e[0][e[1]].include.length+"",f,h,i=e[0][e[1]].exclude.length+"",d,w,c,C,T="edit",U,q;const H=[Et,wt],b=[];function L(v,p){return v[17]?0:v[18].length>0?1:-1}return~(n=L(e))&&(s=b[n]=H[n](e)),{c(){t=S("input"),l=D(),s&&s.c(),r=D(),a=S("span"),u=S("span"),f=J(o),h=J(` included,
								`),d=J(i),w=J(" excluded"),c=D(),C=S("button"),C.textContent=T,this.h()},l(v){t=I(v,"INPUT",{type:!0,placeholder:!0,class:!0}),l=R(v),s&&s.l(v),r=R(v),a=I(v,"SPAN",{class:!0});var p=O(a);u=I(p,"SPAN",{});var B=O(u);f=K(B,o),h=K(B,` included,
								`),d=K(B,i),w=K(B," excluded"),B.forEach(g),c=R(p),C=I(p,"BUTTON",{"data-svelte-h":!0}),ae(C)!=="svelte-qj012s"&&(C.textContent=T),p.forEach(g),this.h()},h(){_(t,"type","text"),_(t,"placeholder","include/exclude"),_(t,"class","fzf-input svelte-1bnkwyr"),_(a,"class","include-exclude-desc svelte-1bnkwyr")},m(v,p){W(v,t,p),ye(t,e[8]),W(v,l,p),~n&&b[n].m(v,p),W(v,r,p),W(v,a,p),m(a,u),m(u,f),m(u,h),m(u,d),m(u,w),m(a,c),m(a,C),U||(q=[X(t,"input",e[43]),X(C,"click",e[27])],U=!0)},p(v,p){p[0]&256&&t.value!==v[8]&&ye(t,v[8]);let B=n;n=L(v),n===B?~n&&b[n].p(v,p):(s&&(Ce(),Q(b[B],1,1,()=>{b[B]=null}),Se()),~n?(s=b[n],s?s.p(v,p):(s=b[n]=H[n](v),s.c()),Z(s,1),s.m(r.parentNode,r)):s=null),p[0]&3&&o!==(o=v[0][v[1]].include.length+"")&&ee(f,o),p[0]&3&&i!==(i=v[0][v[1]].exclude.length+"")&&ee(d,i)},d(v){v&&(g(t),g(l),g(r),g(a)),~n&&b[n].d(v),U=!1,Ne(q)}}}function wt(e){let t,l,n="✖",s,r,a,u,o,f,h=te(e[18]),i=[];for(let d=0;d<h.length;d+=1)i[d]=Ke(Ue(e,h,d));return{c(){t=S("div"),l=S("button"),l.textContent=n,s=D(),r=S("ul");for(let d=0;d<i.length;d+=1)i[d].c();this.h()},l(d){t=I(d,"DIV",{class:!0});var w=O(t);l=I(w,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(l)!=="svelte-1c9wehz"&&(l.textContent=n),s=R(w),r=I(w,"UL",{});var c=O(r);for(let C=0;C<i.length;C+=1)i[C].l(c);c.forEach(g),w.forEach(g),this.h()},h(){_(l,"class","close-button svelte-1bnkwyr"),_(t,"class","blurred-overlay svelte-1bnkwyr")},m(d,w){W(d,t,w),m(t,l),m(t,s),m(t,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(r,null);u=!0,o||(f=X(l,"click",e[44]),o=!0)},p(d,w){if(w[0]&262144|w[1]&1){h=te(d[18]);let c;for(c=0;c<h.length;c+=1){const C=Ue(d,h,c);i[c]?i[c].p(C,w):(i[c]=Ke(C),i[c].c(),i[c].m(r,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=h.length}},i(d){u||(d&&Le(()=>{u&&(a||(a=oe(t,fe,{duration:100},!0)),a.run(1))}),u=!0)},o(d){d&&(a||(a=oe(t,fe,{duration:100},!1)),a.run(0)),u=!1},d(d){d&&g(t),Oe(i,d),d&&a&&a.end(),o=!1,f()}}}function Et(e){let t,l,n="✖",s,r,a,u=te(e[24]),o=[];for(let f=0;f<u.length;f+=1)o[f]=Ge(Me(e,u,f));return{c(){t=S("div"),l=S("button"),l.textContent=n,s=D();for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){t=I(f,"DIV",{class:!0});var h=O(t);l=I(h,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(l)!=="svelte-rkil3s"&&(l.textContent=n),s=R(h);for(let i=0;i<o.length;i+=1)o[i].l(h);h.forEach(g),this.h()},h(){_(l,"class","close-button svelte-1bnkwyr"),_(t,"class","blurred-overlay svelte-1bnkwyr")},m(f,h){W(f,t,h),m(t,l),m(t,s);for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(t,null);r||(a=X(l,"click",e[28]),r=!0)},p(f,h){if(h[0]&16777219|h[1]&6){u=te(f[24]);let i;for(i=0;i<u.length;i+=1){const d=Me(f,u,i);o[i]?o[i].p(d,h):(o[i]=Ge(d),o[i].c(),o[i].m(t,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=u.length}},i:re,o:re,d(f){f&&g(t),Oe(o,f),r=!1,a()}}}function Ke(e){let t,l=e[53].name+"",n,s,r,a="include",u,o,f="exclude",h,i,d;return{c(){t=S("li"),n=J(l),s=D(),r=S("button"),r.textContent=a,u=D(),o=S("button"),o.textContent=f,h=D()},l(w){t=I(w,"LI",{});var c=O(t);n=K(c,l),s=R(c),r=I(c,"BUTTON",{"data-svelte-h":!0}),ae(r)!=="svelte-1pcobpd"&&(r.textContent=a),u=R(c),o=I(c,"BUTTON",{"data-svelte-h":!0}),ae(o)!=="svelte-ktsiop"&&(o.textContent=f),h=R(c),c.forEach(g)},m(w,c){W(w,t,c),m(t,n),m(t,s),m(t,r),m(t,u),m(t,o),m(t,h),i||(d=[X(r,"click",function(){Ee(e[31](e[53].id,"include"))&&e[31](e[53].id,"include").apply(this,arguments)}),X(o,"click",function(){Ee(e[31](e[53].id,"exclude"))&&e[31](e[53].id,"exclude").apply(this,arguments)})],i=!0)},p(w,c){e=w,c[0]&262144&&l!==(l=e[53].name+"")&&ee(n,l)},d(w){w&&g(t),i=!1,Ne(d)}}}function Xe(e){let t,l=e[33](e[50])+"",n,s,r,a="✖",u,o;return{c(){t=S("span"),n=J(l),s=D(),r=S("span"),r.textContent=a,this.h()},l(f){t=I(f,"SPAN",{class:!0});var h=O(t);n=K(h,l),s=R(h),r=I(h,"SPAN",{class:!0,"data-svelte-h":!0}),ae(r)!=="svelte-16j7zdb"&&(r.textContent=a),h.forEach(g),this.h()},h(){_(r,"class","clear-button svelte-1bnkwyr"),_(t,"class","selected-card svelte-1bnkwyr")},m(f,h){W(f,t,h),m(t,n),m(t,s),m(t,r),u||(o=X(r,"click",function(){Ee(e[32](e[50],e[47]))&&e[32](e[50],e[47]).apply(this,arguments)}),u=!0)},p(f,h){e=f,h[0]&3&&l!==(l=e[33](e[50])+"")&&ee(n,l)},d(f){f&&g(t),u=!1,o()}}}function Ge(e){let t,l=te(e[0][e[1]][e[47]]),n=[];for(let s=0;s<l.length;s+=1)n[s]=Xe(Fe(e,l,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=we()},l(s){for(let r=0;r<n.length;r+=1)n[r].l(s);t=we()},m(s,r){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(s,r);W(s,t,r)},p(s,r){if(r[0]&16777219|r[1]&6){l=te(s[0][s[1]][s[47]]);let a;for(a=0;a<l.length;a+=1){const u=Fe(s,l,a);n[a]?n[a].p(u,r):(n[a]=Xe(u),n[a].c(),n[a].m(t.parentNode,t))}for(;a<n.length;a+=1)n[a].d(1);n.length=l.length}},d(s){s&&g(t),Oe(n,s)}}}function yt(e){let t,l,n=e[13]!=null&&Ze(e);return{c(){n&&n.c(),t=we()},l(s){n&&n.l(s),t=we()},m(s,r){n&&n.m(s,r),W(s,t,r),l=!0},p(s,r){s[13]!=null?n?(n.p(s,r),r[0]&8192&&Z(n,1)):(n=Ze(s),n.c(),Z(n,1),n.m(t.parentNode,t)):n&&(Ce(),Q(n,1,1,()=>{n=null}),Se())},i(s){l||(Z(n),l=!0)},o(s){Q(n),l=!1},d(s){s&&g(t),n&&n.d(s)}}}let Ie=400,ke=30,Ve=30,He=80;function Ct(e,t,l){let n,s,r,a,u,o,f,h,i,d,w,c,C,T,U;const q=["exclude","include"];let{lVis:H}=t,{index:b}=t,{expandedIndex:L}=t,{childHeightRate:v}=t,{overHangRate:p}=t,{sideBarWidth:B}=t,{svgWidth:ue}=t,{currentQcSpec:le}=t,{controlSpecs:j}=t,{attributeLabels:V}=t,{maxOnOneLevel:z=15}=t,{minShow:A=1}=t,{controlHtmlWidth:ne=320}=t;const de=ct();let N=Ve-4;function y(k){const F=[];if(k.length==0)return F;const he=k.toLowerCase();for(const[ft,De]of Object.entries(i))if(De.name.toLowerCase().includes(he)&&(F.push({name:De.name,id:ft}),F.length>4))return F;return F}let M="",P=!1;const G=()=>l(17,P=!0),ie=()=>l(17,P=!1);let se=["volume","specialization"],ce=["highest","lowest"],Y=j[b].show_top?"highest":"lowest";function tt(k,F){return()=>{l(0,j[b][F]=[k,...j[b][F].filter(he=>he!=k)],j)}}function lt(k,F){return()=>{l(0,j[b][F]=j[b][F].filter(he=>he!=k),j)}}function nt(k){var F;return((F=i[k])==null?void 0:F.name)||"Unknown"}function it(k){e.$$.not_equal(j[b].size_base,k)&&(j[b].size_base=k,l(0,j),l(1,b),l(9,Y))}function st(){j[b].limit_n=ht(this.value),l(0,j),l(1,b),l(9,Y)}function rt(k){Y=k,l(9,Y)}function at(){M=this.value,l(8,M)}const ot=()=>l(8,M="");return e.$$set=k=>{"lVis"in k&&l(34,H=k.lVis),"index"in k&&l(1,b=k.index),"expandedIndex"in k&&l(35,L=k.expandedIndex),"childHeightRate"in k&&l(36,v=k.childHeightRate),"overHangRate"in k&&l(37,p=k.overHangRate),"sideBarWidth"in k&&l(2,B=k.sideBarWidth),"svgWidth"in k&&l(3,ue=k.svgWidth),"currentQcSpec"in k&&l(4,le=k.currentQcSpec),"controlSpecs"in k&&l(0,j=k.controlSpecs),"attributeLabels"in k&&l(38,V=k.attributeLabels),"maxOnOneLevel"in k&&l(5,z=k.maxOnOneLevel),"minShow"in k&&l(6,A=k.minShow),"controlHtmlWidth"in k&&l(7,ne=k.controlHtmlWidth)},e.$$.update=()=>{e.$$.dirty[0]&128&&l(23,n=ne-ke*2),e.$$.dirty[0]&2|e.$$.dirty[1]&16&&l(10,s=b==L),e.$$.dirty[0]&18&&l(13,r=le==null?void 0:le.bifurcations[b]),e.$$.dirty[1]&104&&l(22,a=H.topOffset+H.totalSize-H.totalSize*(v+p)),e.$$.dirty[1]&40&&l(15,u=H.totalSize*v),e.$$.dirty[0]&132&&l(16,o=B*.85/ne),e.$$.dirty[0]&65536&&l(14,f=Ve*o),e.$$.dirty[0]&49152&&l(39,h=u/f),e.$$.dirty[0]&8192|e.$$.dirty[1]&128&&(i=V[r==null?void 0:r.attribute_kind]||{}),e.$$.dirty[1]&256&&l(12,d=h>3.2),e.$$.dirty[0]&4096&&l(21,w=d?"":"control-hidden"),e.$$.dirty[1]&256&&l(11,c=h>4.8),e.$$.dirty[0]&2048&&l(20,C=c?"":"control-hidden"),e.$$.dirty[0]&1024&&l(19,T=s?"":"control-hidden"),e.$$.dirty[0]&256&&l(18,U=y(M)),e.$$.dirty[0]&514&&(k=>{l(0,j[b].show_top=k=="highest",j)})(Y)},[j,b,B,ue,le,z,A,ne,M,Y,s,c,d,r,f,u,o,P,U,T,C,w,a,n,q,de,N,G,ie,se,ce,tt,lt,nt,H,L,v,p,V,h,it,st,rt,at,ot]}class zt extends Be{constructor(t){super(),We(this,t,Ct,yt,ze,{lVis:34,index:1,expandedIndex:35,childHeightRate:36,overHangRate:37,sideBarWidth:2,svgWidth:3,currentQcSpec:4,controlSpecs:0,attributeLabels:38,maxOnOneLevel:5,minShow:6,controlHtmlWidth:7},null,[-1,-1])}}export{et as C,zt as a,ct as g,Vt as t};
