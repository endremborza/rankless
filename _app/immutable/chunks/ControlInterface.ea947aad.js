import{_ as ft,s as ze,f as S,a as R,g as I,h as H,c as j,d as g,j as c,k as E,i as D,w as m,I as X,A as ne,P as He,l as J,m as K,n as ee,R as x,S as $,e as we,p as Ye,D as Ee,X as xe,M as Le,H as ye,J as Ne,v as ie,U as ot}from"./scheduler.84e3c04c.js";import{S as Be,i as We,a as Z,g as Ce,t as Q,c as Se,k as $e,b as ge,d as be,m as ve,j as se,e as pe}from"./index.4efd63ac.js";import{e as te}from"./each.e6d20371.js";import{f as re}from"./index.9d792c6d.js";import{B as ut}from"./BrokenFittedText.8751ef86.js";function ht(){return ft()}function Ot(e,t,l,n,s){return()=>{e("ti",{path:l,action:t,topLeftCorner:{x:n,y:s}})}}function Re(e,t){return()=>{e("ce",{ind:t})}}function je(e,t,l){const n=e.slice();return n[11]=t[l],n}function Ae(e){let t,l=e[11]+"",n,s;return{c(){t=S("div"),n=J(l),s=R(),this.h()},l(r){t=I(r,"DIV",{class:!0});var a=H(t);n=K(a,l),a.forEach(g),s=j(r),this.h()},h(){c(t,"class","svelte-6fgk1b")},m(r,a){D(r,t,a),m(t,n),D(r,s,a)},p(r,a){a&1&&l!==(l=r[11]+"")&&ee(n,l)},d(r){r&&(g(t),g(s))}}}function dt(e){let t,l,n,s,r,a,u=te(e[0]),f=[];for(let o=0;o<u.length;o+=1)f[o]=Ae(je(e,u,o));return{c(){t=S("label"),l=S("input"),n=R(),s=S("span");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){t=I(o,"LABEL",{class:!0,style:!0});var h=H(t);l=I(h,"INPUT",{type:!0,class:!0}),n=j(h),s=I(h,"SPAN",{class:!0});var i=H(s);for(let d=0;d<f.length;d+=1)f[d].l(i);i.forEach(g),h.forEach(g),this.h()},h(){c(l,"type","checkbox"),c(l,"class","svelte-6fgk1b"),c(s,"class","slider round svelte-6fgk1b"),c(t,"class","switch svelte-6fgk1b"),E(t,"--pad",e[1]+"px"),E(t,"--fw",e[4]+"px"),E(t,"--w",e[4]/2+"px"),E(t,"--tw",e[4]/2-2*e[1]+"px"),E(t,"--height",e[2]+"px"),E(t,"--full-height",e[2]+2*e[1]+"px"),E(t,"--label","'"+e[5]+"'")},m(o,h){D(o,t,h),m(t,l),l.checked=e[3],m(t,n),m(t,s);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m(s,null);r||(a=X(l,"change",e[9]),r=!0)},p(o,[h]){if(h&8&&(l.checked=o[3]),h&1){u=te(o[0]);let i;for(i=0;i<u.length;i+=1){const d=je(o,u,i);f[i]?f[i].p(d,h):(f[i]=Ae(d),f[i].c(),f[i].m(s,null))}for(;i<f.length;i+=1)f[i].d(1);f.length=u.length}h&2&&E(t,"--pad",o[1]+"px"),h&16&&E(t,"--fw",o[4]+"px"),h&16&&E(t,"--w",o[4]/2+"px"),h&18&&E(t,"--tw",o[4]/2-2*o[1]+"px"),h&4&&E(t,"--height",o[2]+"px"),h&6&&E(t,"--full-height",o[2]+2*o[1]+"px"),h&32&&E(t,"--label","'"+o[5]+"'")},i:ne,o:ne,d(o){o&&g(t),He(f,o),r=!1,a()}}}function ct(e){return((e[0].length>e[1].length?e[0].length:e[1].length)*.8+2)*20}function _t(e,t,l){let n,s,{values:r=["On","Off"]}=t,{labels:a=r.map(_=>_.toString())}=t,{value:u=r[0]}=t,{pad:f=5}=t,{height:o=26}=t,{width:h=void 0}=t,i=u==r[1];const d=_=>{l(6,u=_?r[1]:r[0])};function k(){i=this.checked,l(3,i)}return e.$$set=_=>{"values"in _&&l(7,r=_.values),"labels"in _&&l(0,a=_.labels),"value"in _&&l(6,u=_.value),"pad"in _&&l(1,f=_.pad),"height"in _&&l(2,o=_.height),"width"in _&&l(8,h=_.width)},e.$$.update=()=>{e.$$.dirty&9&&l(5,n=i?a[1]:a[0]),e.$$.dirty&8&&d(i),e.$$.dirty&257&&l(4,s=h||ct(a))},[a,f,o,i,s,n,u,r,h,k]}class et extends Be{constructor(t){super(),We(this,t,_t,dt,ze,{values:7,labels:0,value:6,pad:1,height:2,width:8})}}function mt(e){let t,l,n,s,r,a,u,f,o,h;return{c(){t=x("path"),n=R(),s=x("path"),a=R(),u=x("g"),f=x("path"),this.h()},l(i){t=$(i,"path",{d:!0,fill:!0,"fill-opacity":!0,class:!0}),H(t).forEach(g),n=j(i),s=$(i,"path",{d:!0,fill:!0,class:!0}),H(s).forEach(g),a=j(i),u=$(i,"g",{style:!0,class:!0});var d=H(u);f=$(d,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,fill:!0,class:!0}),H(f).forEach(g),d.forEach(g),this.h()},h(){c(t,"d",l="M0 0 H"+e[0]+" V"+e[0]+" H0 V0 Z"),c(t,"fill","var(--color-theme-blue)"),c(t,"fill-opacity","0.7"),c(t,"class","svelte-12wtsp1"),c(s,"d",r="M0 "+e[2]+" H"+e[0]+" V0 H0 V0 Z"),c(s,"fill","var(--color-theme-lightblue)"),c(s,"class","svelte-12wtsp1"),c(f,"d",o="M"+e[0]*_e+" "+e[3]+" L"+e[0]*.5+" "+e[0]*me+" L"+e[0]*(1-_e)+" "+e[3]),c(f,"stroke","var(--color-theme-white)"),c(f,"stroke-width",h=Pe*e[0]),c(f,"stroke-linecap","round"),c(f,"stroke-linejoin","round"),c(f,"fill","none"),c(f,"class","svelte-12wtsp1"),E(u,"--rot",e[1]+"deg"),E(u,"--rx",e[0]/2+"px"),E(u,"--ry",e[0]*(Te+me)/2+"px"),c(u,"class","svelte-12wtsp1")},m(i,d){D(i,t,d),D(i,n,d),D(i,s,d),D(i,a,d),D(i,u,d),m(u,f)},p(i,[d]){d&1&&l!==(l="M0 0 H"+i[0]+" V"+i[0]+" H0 V0 Z")&&c(t,"d",l),d&5&&r!==(r="M0 "+i[2]+" H"+i[0]+" V0 H0 V0 Z")&&c(s,"d",r),d&9&&o!==(o="M"+i[0]*_e+" "+i[3]+" L"+i[0]*.5+" "+i[0]*me+" L"+i[0]*(1-_e)+" "+i[3])&&c(f,"d",o),d&1&&h!==(h=Pe*i[0])&&c(f,"stroke-width",h),d&2&&E(u,"--rot",i[1]+"deg"),d&1&&E(u,"--rx",i[0]/2+"px"),d&1&&E(u,"--ry",i[0]*(Te+me)/2+"px")},i:ne,o:ne,d(i){i&&(g(t),g(n),g(s),g(a),g(u))}}}let gt=.13,_e=.15,me=.78,Te=.34,Pe=.08;function bt(e,t,l){let n,s,{size:r=3}=t,{rotated:a=0}=t,{text:u="expand"}=t;return e.$$set=f=>{"size"in f&&l(0,r=f.size),"rotated"in f&&l(1,a=f.rotated),"text"in f&&l(4,u=f.text)},e.$$.update=()=>{e.$$.dirty&1&&l(3,n=r*Te),e.$$.dirty&1&&l(2,s=r*gt)},[r,a,s,n,u]}class vt extends Be{constructor(t){super(),We(this,t,bt,mt,ze,{size:0,rotated:1,text:4})}}function Ue(e,t,l){const n=e.slice();return n[51]=t[l],n}function Fe(e,t,l){const n=e.slice();return n[45]=t[l],n}function Me(e,t,l){const n=e.slice();return n[48]=t[l],n}function Ze(e){var ue,he;let t,l,n,s,r,a,u,f,o,h,i,d,k,_,C,z,A,T,L,y,W,b,v,N,P;n=new ut({props:{text:((he=(ue=e[4])==null?void 0:ue.bifurcations[e[1]])==null?void 0:he.description)||"",width:e[2]*.9,height:e[13]*2,x:e[2]*.1,y:-.5}});function ae(O){e[38](O)}let fe={values:e[27],width:e[21]};e[0][e[1]].size_base!==void 0&&(fe.value=e[0][e[1]].size_base),u=new et({props:fe}),Ye.push(()=>$e(u,"value",ae));let B=e[11]&&qe(e),V=e[10]&&Qe(e),U=e[10]&&Je(e);return W=new vt({props:{size:e[13],text:e[10]?"collapse":"expand",rotated:e[10]?180:0}}),{c(){t=x("g"),l=x("rect"),ge(n.$$.fragment),s=x("foreignObject"),r=S("div"),a=S("div"),ge(u.$$.fragment),o=R(),h=S("div"),B&&B.c(),d=R(),k=S("div"),V&&V.c(),C=R(),z=S("div"),U&&U.c(),T=R(),y=x("g"),ge(W.$$.fragment),this.h()},l(O){t=$(O,"g",{style:!0});var w=H(t);l=$(w,"rect",{fill:!0,height:!0,width:!0,style:!0,class:!0}),H(l).forEach(g),be(n.$$.fragment,w),s=$(w,"foreignObject",{width:!0,height:!0,style:!0,class:!0});var G=H(s);r=I(G,"DIV",{class:!0,style:!0});var F=H(r);a=I(F,"DIV",{class:!0});var Y=H(a);be(u.$$.fragment,Y),Y.forEach(g),o=j(F),h=I(F,"DIV",{class:!0,style:!0});var le=H(h);B&&B.l(le),le.forEach(g),d=j(F),k=I(F,"DIV",{class:!0});var q=H(k);V&&V.l(q),q.forEach(g),C=j(F),z=I(F,"DIV",{class:!0});var de=H(z);U&&U.l(de),de.forEach(g),T=j(F),F.forEach(g),G.forEach(g),y=$(w,"g",{style:!0});var ce=H(y);be(W.$$.fragment,ce),ce.forEach(g),w.forEach(g),this.h()},h(){c(l,"fill","grey"),c(l,"height","1"),c(l,"width",e[3]),E(l,"transform","matrix(1, 0, 0, "+e[14]+", 0, 0)"),E(l,"opacity",e[10]?.5:.3),c(l,"class","svelte-1bnkwyr"),c(a,"class","control-elem svelte-1bnkwyr"),c(h,"class",i="control-elem "+e[19]+" svelte-1bnkwyr"),E(h,"--r",ke+(e[21]-Oe)*(e[0][e[1]].limit_n-e[6])/(e[5]-e[6])+"px"),c(k,"class",_="control-elem "+e[18]+" svelte-1bnkwyr"),c(z,"class",A="control-elem "+e[18]+" svelte-1bnkwyr"),c(r,"class","main-controls svelte-1bnkwyr"),E(r,"--full-width",e[7]+"px"),E(r,"--slider-width",e[21]+"px"),E(r,"--label-width",ke+"px"),E(r,"--thumb-width",Oe+"px"),E(r,"--slider-height",Ve+"px"),E(r,"--thumb-height",e[24]+"px"),c(s,"width",e[7]),c(s,"height",L=e[14]/e[15]),E(s,"transform","matrix("+e[15]+", 0, 0, "+e[15]+", 0, 0)"),c(s,"class","svelte-1bnkwyr"),E(y,"transform","matrix(1,0,0,1,"+e[2]*.85+", "+e[14]*.03+")"),E(t,"--y-off",e[20]+"px")},m(O,w){D(O,t,w),m(t,l),ve(n,t,null),m(t,s),m(s,r),m(r,a),ve(u,a,null),m(r,o),m(r,h),B&&B.m(h,null),m(r,d),m(r,k),V&&V.m(k,null),m(r,C),m(r,z),U&&U.m(z,null),m(r,T),m(t,y),ve(W,y,null),v=!0,N||(P=X(y,"click",function(){Ee(Re(e[23],e[1]))&&Re(e[23],e[1]).apply(this,arguments)}),N=!0)},p(O,w){var le,q;e=O,(!v||w[0]&8)&&c(l,"width",e[3]),(!v||w[0]&16384)&&E(l,"transform","matrix(1, 0, 0, "+e[14]+", 0, 0)"),(!v||w[0]&1024)&&E(l,"opacity",e[10]?.5:.3);const G={};w[0]&18&&(G.text=((q=(le=e[4])==null?void 0:le.bifurcations[e[1]])==null?void 0:q.description)||""),w[0]&4&&(G.width=e[2]*.9),w[0]&8192&&(G.height=e[13]*2),w[0]&4&&(G.x=e[2]*.1),n.$set(G);const F={};w[0]&2097152&&(F.width=e[21]),!f&&w[0]&3&&(f=!0,F.value=e[0][e[1]].size_base,xe(()=>f=!1)),u.$set(F),e[11]?B?(B.p(e,w),w[0]&2048&&Z(B,1)):(B=qe(e),B.c(),Z(B,1),B.m(h,null)):B&&(Ce(),Q(B,1,1,()=>{B=null}),Se()),(!v||w[0]&524288&&i!==(i="control-elem "+e[19]+" svelte-1bnkwyr"))&&c(h,"class",i),(!v||w[0]&2097251)&&E(h,"--r",ke+(e[21]-Oe)*(e[0][e[1]].limit_n-e[6])/(e[5]-e[6])+"px"),e[10]?V?(V.p(e,w),w[0]&1024&&Z(V,1)):(V=Qe(e),V.c(),Z(V,1),V.m(k,null)):V&&(Ce(),Q(V,1,1,()=>{V=null}),Se()),(!v||w[0]&262144&&_!==(_="control-elem "+e[18]+" svelte-1bnkwyr"))&&c(k,"class",_),e[10]?U?U.p(e,w):(U=Je(e),U.c(),U.m(z,null)):U&&(U.d(1),U=null),(!v||w[0]&262144&&A!==(A="control-elem "+e[18]+" svelte-1bnkwyr"))&&c(z,"class",A),(!v||w[0]&128)&&E(r,"--full-width",e[7]+"px"),(!v||w[0]&2097152)&&E(r,"--slider-width",e[21]+"px"),(!v||w[0]&128)&&c(s,"width",e[7]),(!v||w[0]&49152&&L!==(L=e[14]/e[15]))&&c(s,"height",L),(!v||w[0]&32768)&&E(s,"transform","matrix("+e[15]+", 0, 0, "+e[15]+", 0, 0)");const Y={};w[0]&8192&&(Y.size=e[13]),w[0]&1024&&(Y.text=e[10]?"collapse":"expand"),w[0]&1024&&(Y.rotated=e[10]?180:0),W.$set(Y),(!v||w[0]&16388)&&E(y,"transform","matrix(1,0,0,1,"+e[2]*.85+", "+e[14]*.03+")"),(!v||w[0]&1048576)&&E(t,"--y-off",e[20]+"px")},i(O){v||(Z(n.$$.fragment,O),Z(u.$$.fragment,O),Z(B),Z(V),Z(W.$$.fragment,O),O&&Le(()=>{v&&(b||(b=se(t,re,{duration:Ie},!0)),b.run(1))}),v=!0)},o(O){Q(n.$$.fragment,O),Q(u.$$.fragment,O),Q(B),Q(V),Q(W.$$.fragment,O),O&&(b||(b=se(t,re,{duration:Ie},!1)),b.run(0)),v=!1},d(O){O&&g(t),pe(n),pe(u),B&&B.d(),V&&V.d(),U&&U.d(),pe(W),O&&b&&b.end(),N=!1,P()}}}function qe(e){let t,l,n,s,r,a,u,f,o,h,i,d,k=e[0][e[1]].limit_n+"",_,C,z,A,T;return{c(){t=S("div"),l=S("div"),n=S("span"),s=J(e[6]),r=R(),a=S("input"),u=R(),f=S("span"),o=J(e[5]),h=R(),i=S("label"),d=J("show "),_=J(k),this.h()},l(L){t=I(L,"DIV",{id:!0,class:!0});var y=H(t);l=I(y,"DIV",{id:!0,class:!0});var W=H(l);n=I(W,"SPAN",{class:!0});var b=H(n);s=K(b,e[6]),b.forEach(g),r=j(W),a=I(W,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),u=j(W),f=I(W,"SPAN",{class:!0});var v=H(f);o=K(v,e[5]),v.forEach(g),W.forEach(g),h=j(y),i=I(y,"LABEL",{for:!0,class:!0});var N=H(i);d=K(N,"show "),_=K(N,k),N.forEach(g),y.forEach(g),this.h()},h(){c(n,"class","svelte-1bnkwyr"),c(a,"id","topn-input"),c(a,"type","range"),c(a,"min",e[6]),c(a,"max",e[5]),c(a,"class","svelte-1bnkwyr"),c(f,"class","svelte-1bnkwyr"),c(l,"id","topn-slider"),c(l,"class","svelte-1bnkwyr"),c(i,"for","topn-input"),c(i,"class","svelte-1bnkwyr"),c(t,"id","topn-control"),c(t,"class","svelte-1bnkwyr")},m(L,y){D(L,t,y),m(t,l),m(l,n),m(n,s),m(l,r),m(l,a),ye(a,e[0][e[1]].limit_n),m(l,u),m(l,f),m(f,o),m(t,h),m(t,i),m(i,d),m(i,_),z=!0,A||(T=[X(a,"change",e[39]),X(a,"input",e[39])],A=!0)},p(L,y){e=L,(!z||y[0]&64)&&ee(s,e[6]),(!z||y[0]&64)&&c(a,"min",e[6]),(!z||y[0]&32)&&c(a,"max",e[5]),y[0]&3&&ye(a,e[0][e[1]].limit_n),(!z||y[0]&32)&&ee(o,e[5]),(!z||y[0]&3)&&k!==(k=e[0][e[1]].limit_n+"")&&ee(_,k)},i(L){z||(L&&Le(()=>{z&&(C||(C=se(t,re,{duration:Ie},!0)),C.run(1))}),z=!0)},o(L){L&&(C||(C=se(t,re,{duration:Ie},!1)),C.run(0)),z=!1},d(L){L&&g(t),L&&C&&C.end(),A=!1,Ne(T)}}}function Qe(e){let t,l,n;function s(a){e[40](a)}let r={values:e[28],width:e[21]};return e[9]!==void 0&&(r.value=e[9]),t=new et({props:r}),Ye.push(()=>$e(t,"value",s)),{c(){ge(t.$$.fragment)},l(a){be(t.$$.fragment,a)},m(a,u){ve(t,a,u),n=!0},p(a,u){const f={};u[0]&2097152&&(f.width=a[21]),!l&&u[0]&512&&(l=!0,f.value=a[9],xe(()=>l=!1)),t.$set(f)},i(a){n||(Z(t.$$.fragment,a),n=!0)},o(a){Q(t.$$.fragment,a),n=!1},d(a){pe(t,a)}}}function Je(e){let t,l,n,s,r,a,u,f=e[0][e[1]].include.length+"",o,h,i=e[0][e[1]].exclude.length+"",d,k,_,C,z="edit",A,T;const L=[kt,pt],y=[];function W(b,v){return b[16]?0:b[17].length>0?1:-1}return~(n=W(e))&&(s=y[n]=L[n](e)),{c(){t=S("input"),l=R(),s&&s.c(),r=R(),a=S("span"),u=S("span"),o=J(f),h=J(` included,
								`),d=J(i),k=J(" excluded"),_=R(),C=S("button"),C.textContent=z,this.h()},l(b){t=I(b,"INPUT",{type:!0,placeholder:!0,class:!0}),l=j(b),s&&s.l(b),r=j(b),a=I(b,"SPAN",{class:!0});var v=H(a);u=I(v,"SPAN",{});var N=H(u);o=K(N,f),h=K(N,` included,
								`),d=K(N,i),k=K(N," excluded"),N.forEach(g),_=j(v),C=I(v,"BUTTON",{"data-svelte-h":!0}),ie(C)!=="svelte-qj012s"&&(C.textContent=z),v.forEach(g),this.h()},h(){c(t,"type","text"),c(t,"placeholder","include/exclude"),c(t,"class","fzf-input svelte-1bnkwyr"),c(a,"class","include-exclude-desc svelte-1bnkwyr")},m(b,v){D(b,t,v),ye(t,e[8]),D(b,l,v),~n&&y[n].m(b,v),D(b,r,v),D(b,a,v),m(a,u),m(u,o),m(u,h),m(u,d),m(u,k),m(a,_),m(a,C),A||(T=[X(t,"input",e[41]),X(C,"click",e[25])],A=!0)},p(b,v){v[0]&256&&t.value!==b[8]&&ye(t,b[8]);let N=n;n=W(b),n===N?~n&&y[n].p(b,v):(s&&(Ce(),Q(y[N],1,1,()=>{y[N]=null}),Se()),~n?(s=y[n],s?s.p(b,v):(s=y[n]=L[n](b),s.c()),Z(s,1),s.m(r.parentNode,r)):s=null),v[0]&3&&f!==(f=b[0][b[1]].include.length+"")&&ee(o,f),v[0]&3&&i!==(i=b[0][b[1]].exclude.length+"")&&ee(d,i)},d(b){b&&(g(t),g(l),g(r),g(a)),~n&&y[n].d(b),A=!1,Ne(T)}}}function pt(e){let t,l,n="✖",s,r,a,u,f,o,h=te(e[17]),i=[];for(let d=0;d<h.length;d+=1)i[d]=Ke(Ue(e,h,d));return{c(){t=S("div"),l=S("button"),l.textContent=n,s=R(),r=S("ul");for(let d=0;d<i.length;d+=1)i[d].c();this.h()},l(d){t=I(d,"DIV",{class:!0});var k=H(t);l=I(k,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(l)!=="svelte-1c9wehz"&&(l.textContent=n),s=j(k),r=I(k,"UL",{});var _=H(r);for(let C=0;C<i.length;C+=1)i[C].l(_);_.forEach(g),k.forEach(g),this.h()},h(){c(l,"class","close-button svelte-1bnkwyr"),c(t,"class","blurred-overlay svelte-1bnkwyr")},m(d,k){D(d,t,k),m(t,l),m(t,s),m(t,r);for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(r,null);u=!0,f||(o=X(l,"click",e[42]),f=!0)},p(d,k){if(k[0]&537001984){h=te(d[17]);let _;for(_=0;_<h.length;_+=1){const C=Ue(d,h,_);i[_]?i[_].p(C,k):(i[_]=Ke(C),i[_].c(),i[_].m(r,null))}for(;_<i.length;_+=1)i[_].d(1);i.length=h.length}},i(d){u||(d&&Le(()=>{u&&(a||(a=se(t,re,{duration:100},!0)),a.run(1))}),u=!0)},o(d){d&&(a||(a=se(t,re,{duration:100},!1)),a.run(0)),u=!1},d(d){d&&g(t),He(i,d),d&&a&&a.end(),f=!1,o()}}}function kt(e){let t,l,n="✖",s,r,a,u=te(e[22]),f=[];for(let o=0;o<u.length;o+=1)f[o]=Ge(Fe(e,u,o));return{c(){t=S("div"),l=S("button"),l.textContent=n,s=R();for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){t=I(o,"DIV",{class:!0});var h=H(t);l=I(h,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(l)!=="svelte-rkil3s"&&(l.textContent=n),s=j(h);for(let i=0;i<f.length;i+=1)f[i].l(h);h.forEach(g),this.h()},h(){c(l,"class","close-button svelte-1bnkwyr"),c(t,"class","blurred-overlay svelte-1bnkwyr")},m(o,h){D(o,t,h),m(t,l),m(t,s);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m(t,null);r||(a=X(l,"click",e[26]),r=!0)},p(o,h){if(h[0]&1077936131|h[1]&1){u=te(o[22]);let i;for(i=0;i<u.length;i+=1){const d=Fe(o,u,i);f[i]?f[i].p(d,h):(f[i]=Ge(d),f[i].c(),f[i].m(t,null))}for(;i<f.length;i+=1)f[i].d(1);f.length=u.length}},i:ne,o:ne,d(o){o&&g(t),He(f,o),r=!1,a()}}}function Ke(e){let t,l=e[51].name+"",n,s,r,a="include",u,f,o="exclude",h,i,d;return{c(){t=S("li"),n=J(l),s=R(),r=S("button"),r.textContent=a,u=R(),f=S("button"),f.textContent=o,h=R()},l(k){t=I(k,"LI",{});var _=H(t);n=K(_,l),s=j(_),r=I(_,"BUTTON",{"data-svelte-h":!0}),ie(r)!=="svelte-1pcobpd"&&(r.textContent=a),u=j(_),f=I(_,"BUTTON",{"data-svelte-h":!0}),ie(f)!=="svelte-ktsiop"&&(f.textContent=o),h=j(_),_.forEach(g)},m(k,_){D(k,t,_),m(t,n),m(t,s),m(t,r),m(t,u),m(t,f),m(t,h),i||(d=[X(r,"click",function(){Ee(e[29](e[51].id,"include"))&&e[29](e[51].id,"include").apply(this,arguments)}),X(f,"click",function(){Ee(e[29](e[51].id,"exclude"))&&e[29](e[51].id,"exclude").apply(this,arguments)})],i=!0)},p(k,_){e=k,_[0]&131072&&l!==(l=e[51].name+"")&&ee(n,l)},d(k){k&&g(t),i=!1,Ne(d)}}}function Xe(e){let t,l=e[31](e[48])+"",n,s,r,a="✖",u,f;return{c(){t=S("span"),n=J(l),s=R(),r=S("span"),r.textContent=a,this.h()},l(o){t=I(o,"SPAN",{class:!0});var h=H(t);n=K(h,l),s=j(h),r=I(h,"SPAN",{class:!0,"data-svelte-h":!0}),ie(r)!=="svelte-16j7zdb"&&(r.textContent=a),h.forEach(g),this.h()},h(){c(r,"class","clear-button svelte-1bnkwyr"),c(t,"class","selected-card svelte-1bnkwyr")},m(o,h){D(o,t,h),m(t,n),m(t,s),m(t,r),u||(f=X(r,"click",function(){Ee(e[30](e[48],e[45]))&&e[30](e[48],e[45]).apply(this,arguments)}),u=!0)},p(o,h){e=o,h[0]&3&&l!==(l=e[31](e[48])+"")&&ee(n,l)},d(o){o&&g(t),u=!1,f()}}}function Ge(e){let t,l=te(e[0][e[1]][e[45]]),n=[];for(let s=0;s<l.length;s+=1)n[s]=Xe(Me(e,l,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=we()},l(s){for(let r=0;r<n.length;r+=1)n[r].l(s);t=we()},m(s,r){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(s,r);D(s,t,r)},p(s,r){if(r[0]&1077936131|r[1]&1){l=te(s[0][s[1]][s[45]]);let a;for(a=0;a<l.length;a+=1){const u=Me(s,l,a);n[a]?n[a].p(u,r):(n[a]=Xe(u),n[a].c(),n[a].m(t.parentNode,t))}for(;a<n.length;a+=1)n[a].d(1);n.length=l.length}},d(s){s&&g(t),He(n,s)}}}function wt(e){let t,l,n=e[12]!=null&&Ze(e);return{c(){n&&n.c(),t=we()},l(s){n&&n.l(s),t=we()},m(s,r){n&&n.m(s,r),D(s,t,r),l=!0},p(s,r){s[12]!=null?n?(n.p(s,r),r[0]&4096&&Z(n,1)):(n=Ze(s),n.c(),Z(n,1),n.m(t.parentNode,t)):n&&(Ce(),Q(n,1,1,()=>{n=null}),Se())},i(s){l||(Z(n),l=!0)},o(s){Q(n),l=!1},d(s){s&&g(t),n&&n.d(s)}}}let Ie=400,ke=30,Ve=30,Oe=80;function Et(e,t,l){let n,s,r,a,u,f,o,h,i,d,k,_,C;const z=["exclude","include"];let{lVis:A}=t,{index:T}=t,{expandedIndex:L}=t,{childHeightRate:y}=t,{overHangRate:W}=t,{sideBarWidth:b}=t,{svgWidth:v}=t,{currentQcSpec:N}=t,{controlSpecs:P}=t,{attributeLabels:ae}=t,{maxOnOneLevel:fe=15}=t,{minShow:B=1}=t,{controlHtmlWidth:V=320}=t;const U=ht();let ue=Ve-4;function he(p){const M=[];if(p.length==0)return M;const oe=p.toLowerCase();for(const[at,De]of Object.entries(i))if(De.name.toLowerCase().includes(oe)&&(M.push({name:De.name,id:at}),M.length>4))return M;return M}let O="",w=!1;const G=()=>l(16,w=!0),F=()=>l(16,w=!1);let Y=["volume","specialization"],le=["highest","lowest"],q=P[T].show_top?"highest":"lowest";function de(p,M){return()=>{l(0,P[T][M]=[p,...P[T][M].filter(oe=>oe!=p)],P)}}function ce(p,M){return()=>{l(0,P[T][M]=P[T][M].filter(oe=>oe!=p),P)}}function tt(p){var M;return((M=i[p])==null?void 0:M.name)||"Unknown"}function lt(p){e.$$.not_equal(P[T].size_base,p)&&(P[T].size_base=p,l(0,P),l(1,T),l(9,q))}function nt(){P[T].limit_n=ot(this.value),l(0,P),l(1,T),l(9,q)}function it(p){q=p,l(9,q)}function st(){O=this.value,l(8,O)}const rt=()=>l(8,O="");return e.$$set=p=>{"lVis"in p&&l(32,A=p.lVis),"index"in p&&l(1,T=p.index),"expandedIndex"in p&&l(33,L=p.expandedIndex),"childHeightRate"in p&&l(34,y=p.childHeightRate),"overHangRate"in p&&l(35,W=p.overHangRate),"sideBarWidth"in p&&l(2,b=p.sideBarWidth),"svgWidth"in p&&l(3,v=p.svgWidth),"currentQcSpec"in p&&l(4,N=p.currentQcSpec),"controlSpecs"in p&&l(0,P=p.controlSpecs),"attributeLabels"in p&&l(36,ae=p.attributeLabels),"maxOnOneLevel"in p&&l(5,fe=p.maxOnOneLevel),"minShow"in p&&l(6,B=p.minShow),"controlHtmlWidth"in p&&l(7,V=p.controlHtmlWidth)},e.$$.update=()=>{e.$$.dirty[0]&128&&l(21,n=V-ke*2),e.$$.dirty[0]&2|e.$$.dirty[1]&4&&l(10,s=T==L),e.$$.dirty[0]&18&&l(12,r=N==null?void 0:N.bifurcations[T]),e.$$.dirty[1]&26&&l(20,a=A.topOffset+A.totalSize-A.totalSize*(y+W)),e.$$.dirty[1]&10&&l(14,u=A.totalSize*y),e.$$.dirty[0]&132&&l(15,f=b*.85/V),e.$$.dirty[0]&32768&&l(13,o=Ve*f),e.$$.dirty[0]&24576&&l(37,h=u/o),e.$$.dirty[0]&4096|e.$$.dirty[1]&32&&(i=ae[r==null?void 0:r.attribute_kind]||{}),e.$$.dirty[1]&64&&l(11,d=h>3.2),e.$$.dirty[0]&2048&&l(19,k=d?"":"control-hidden"),e.$$.dirty[0]&1024&&l(18,_=s?"":"control-hidden"),e.$$.dirty[0]&256&&l(17,C=he(O)),e.$$.dirty[0]&514&&(p=>{l(0,P[T].show_top=p=="highest",P)})(q)},[P,T,b,v,N,fe,B,V,O,q,s,d,r,o,u,f,w,C,_,k,a,n,z,U,ue,G,F,Y,le,de,ce,tt,A,L,y,W,ae,h,lt,nt,it,st,rt]}class Tt extends Be{constructor(t){super(),We(this,t,Et,wt,ze,{lVis:32,index:1,expandedIndex:33,childHeightRate:34,overHangRate:35,sideBarWidth:2,svgWidth:3,currentQcSpec:4,controlSpecs:0,attributeLabels:36,maxOnOneLevel:5,minShow:6,controlHtmlWidth:7},null,[-1,-1])}}export{et as C,Tt as a,ht as g,Ot as t};
