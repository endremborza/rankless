import{T as j,s as q,u as B,w as E,h as T,d as m,j as d,i as C,G as z,E as G,l as W,m as A,k as u,y as D,n as H}from"./scheduler.c71c511d.js";import{S as I,i as J,h as k}from"./index.7d58e6c4.js";import{e as b}from"./each.19beb08f.js";import{g as K}from"./text-format-util.859e8f55.js";function S(l,{delay:t=0,duration:e=400,easing:s=j}={}){const n=+getComputedStyle(l).opacity;return{delay:t,duration:e,easing:s,css:r=>`opacity: ${r*n}`}}function F(l,t,e){const s=l.slice();return s[14]=t[e],s[16]=e,s}function R(l){let t,e=l[14]+"",s;return{c(){t=B("text"),s=W(e),this.h()},l(n){t=E(n,"text",{style:!0,"text-anchor":!0,class:!0});var r=T(t);s=A(r,e),r.forEach(m),this.h()},h(){u(t,"transform",l[2].translates[l[16]]),u(t,"transition","all "+l[1]+"ms"),d(t,"text-anchor","left"),d(t,"class","svelte-rx4rtt")},m(n,r){C(n,t,r),D(t,s)},p(n,r){r&8&&e!==(e=n[14]+"")&&H(s,e),r&4&&u(t,"transform",n[2].translates[n[16]]),r&2&&u(t,"transition","all "+n[1]+"ms")},d(n){n&&m(t)}}}function L(l){let t,e,s,n,r=b(l[3]),o=[];for(let i=0;i<r.length;i+=1)o[i]=R(F(l,r,i));return{c(){t=B("g");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){t=E(i,"g",{style:!0});var h=T(t);for(let a=0;a<o.length;a+=1)o[a].l(h);h.forEach(m),this.h()},h(){d(t,"style",e=l[4]+"; transition: all "+l[1]+"ms")},m(i,h){C(i,t,h);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(t,null);n=!0},p(i,[h]){if(l=i,h&14){r=b(l[3]);let a;for(a=0;a<r.length;a+=1){const c=F(l,r,a);o[a]?o[a].p(c,h):(o[a]=R(c),o[a].c(),o[a].m(t,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}(!n||h&18&&e!==(e=l[4]+"; transition: all "+l[1]+"ms"))&&d(t,"style",e)},i(i){n||(i&&z(()=>{n&&(s||(s=k(t,S,{duration:l[0]},!0)),s.run(1))}),n=!0)},o(i){i&&(s||(s=k(t,S,{duration:l[0]},!1)),s.run(0)),n=!1},d(i){i&&m(t),G(o,i),i&&s&&s.end()}}}const N=10;function O(l,t,e){let s,n,r,o,i,{text:h}=t,{width:a}=t,{height:c}=t,{anchor:g="left"}=t,{x:_=0}=t,{y=0}=t,{allowRotation:x=!0}=t,{fadeMs:w=600}=t,{transMs:M=800}=t;return l.$$set=f=>{"text"in f&&e(5,h=f.text),"width"in f&&e(6,a=f.width),"height"in f&&e(7,c=f.height),"anchor"in f&&e(8,g=f.anchor),"x"in f&&e(9,_=f.x),"y"in f&&e(10,y=f.y),"allowRotation"in f&&e(11,x=f.allowRotation),"fadeMs"in f&&e(0,w=f.fadeMs),"transMs"in f&&e(1,M=f.transMs)},l.$$.update=()=>{l.$$.dirty&32&&e(3,s=(h||"").split(" ")),l.$$.dirty&2504&&e(2,n=K(s,a,c,1.2,.6,N,g=="left",x)),l.$$.dirty&580&&e(13,r=`0,${-n.scale},${n.scale},0,${_+a}`),l.$$.dirty&516&&e(12,o=`${n.scale},0,0,${n.scale},${_}`),l.$$.dirty&13316&&e(4,i=`transform:  matrix(${n.rotate?r:o}, ${y})`)},[w,M,n,s,i,h,a,c,g,_,y,x,o,r]}class X extends I{constructor(t){super(),J(this,t,O,L,q,{text:5,width:6,height:7,anchor:8,x:9,y:10,allowRotation:11,fadeMs:0,transMs:1})}}export{X as B,S as f};
