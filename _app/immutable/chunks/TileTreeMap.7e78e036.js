import{s as Z,R as M,a as V,e as A,S as y,h as T,d as b,c as I,k as j,i as z,P as G,j as d,M as H}from"./scheduler.84e3c04c.js";import{S as x,i as $,g as J,t as E,c as K,a as v,b as L,d as Q,m as U,j as p,e as W}from"./index.4efd63ac.js";import{e as B}from"./each.e6d20371.js";import{g as R}from"./style-util.8011bb2c.js";import{B as X}from"./BrokenFittedText.ccf9adf8.js";import{f as C}from"./index.9d792c6d.js";function q(r,e,i){const o=r.slice();return o[13]=e[i],o}function F(r,e,i){const o=r.slice();return o[13]=e[i],o[17]=i,o}function N(r){let e,i,o,a,t;return{c(){e=M("rect"),this.h()},l(l){e=y(l,"rect",{x:!0,y:!0,width:!0,height:!0,style:!0,class:!0}),T(e).forEach(b),this.h()},h(){d(e,"x",i=r[13].offsets[0]),d(e,"y",o=r[13].offsets[1]),d(e,"width",a=r[13].sizes[0]),d(e,"height",t=r[13].sizes[1]),j(e,"--crgb",R(r[6](r[17],r[3]))),d(e,"class","svelte-4vgltg")},m(l,n){z(l,e,n)},p(l,n){n&32&&i!==(i=l[13].offsets[0])&&d(e,"x",i),n&32&&o!==(o=l[13].offsets[1])&&d(e,"y",o),n&32&&a!==(a=l[13].sizes[0])&&d(e,"width",a),n&32&&t!==(t=l[13].sizes[1])&&d(e,"height",t),n&8&&j(e,"--crgb",R(l[6](l[17],l[3])))},d(l){l&&b(e)}}}function ee(r){let e,i,o,a,t;return i=new X({props:{text:r[0].name,width:r[1],height:r[2]}}),{c(){e=M("g"),L(i.$$.fragment),this.h()},l(l){e=y(l,"g",{transform:!0});var n=T(e);Q(i.$$.fragment,n),n.forEach(b),this.h()},h(){d(e,"transform",o="translate(0, "+r[2]+")")},m(l,n){z(l,e,n),U(i,e,null),t=!0},p(l,n){r=l;const s={};n&1&&(s.text=r[0].name),n&2&&(s.width=r[1]),n&4&&(s.height=r[2]),i.$set(s),(!t||n&4&&o!==(o="translate(0, "+r[2]+")"))&&d(e,"transform",o)},i(l){t||(v(i.$$.fragment,l),l&&H(()=>{t&&(a||(a=p(e,C,{duration:r[4]},!0)),a.run(1))}),t=!0)},o(l){E(i.$$.fragment,l),l&&(a||(a=p(e,C,{duration:r[4]},!1)),a.run(0)),t=!1},d(l){l&&b(e),W(i),l&&a&&a.end()}}}function te(r){let e,i,o,a=B(r[5]),t=[];for(let n=0;n<a.length;n+=1)t[n]=D(q(r,a,n));const l=n=>E(t[n],1,1,()=>{t[n]=null});return{c(){e=M("g");for(let n=0;n<t.length;n+=1)t[n].c()},l(n){e=y(n,"g",{});var s=T(e);for(let h=0;h<t.length;h+=1)t[h].l(s);s.forEach(b)},m(n,s){z(n,e,s);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);o=!0},p(n,s){if(r=n,s&32){a=B(r[5]);let h;for(h=0;h<a.length;h+=1){const c=q(r,a,h);t[h]?(t[h].p(c,s),v(t[h],1)):(t[h]=D(c),t[h].c(),v(t[h],1),t[h].m(e,null))}for(J(),h=a.length;h<t.length;h+=1)l(h);K()}},i(n){if(!o){for(let s=0;s<a.length;s+=1)v(t[s]);n&&H(()=>{o&&(i||(i=p(e,C,{duration:r[4]},!0)),i.run(1))}),o=!0}},o(n){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)E(t[s]);n&&(i||(i=p(e,C,{duration:r[4]},!1)),i.run(0)),o=!1},d(n){n&&b(e),G(t,n),n&&i&&i.end()}}}function D(r){let e,i,o,a;return i=new X({props:{text:r[13].name,width:r[13].sizes[0],height:r[13].sizes[1]}}),{c(){e=M("g"),L(i.$$.fragment),this.h()},l(t){e=y(t,"g",{transform:!0});var l=T(e);Q(i.$$.fragment,l),l.forEach(b),this.h()},h(){d(e,"transform",o="translate("+r[13].offsets[0]+", "+(r[13].offsets[1]+r[13].sizes[1])+")")},m(t,l){z(t,e,l),U(i,e,null),a=!0},p(t,l){const n={};l&32&&(n.text=t[13].name),l&32&&(n.width=t[13].sizes[0]),l&32&&(n.height=t[13].sizes[1]),i.$set(n),(!a||l&32&&o!==(o="translate("+t[13].offsets[0]+", "+(t[13].offsets[1]+t[13].sizes[1])+")"))&&d(e,"transform",o)},i(t){a||(v(i.$$.fragment,t),a=!0)},o(t){E(i.$$.fragment,t),a=!1},d(t){t&&b(e),W(i)}}}function ne(r){let e,i,o,a,t,l,n=B(r[5]),s=[];for(let f=0;f<n.length;f+=1)s[f]=N(F(r,n,f));const h=[te,ee],c=[];function k(f,_){return f[3]?1:0}return o=k(r),a=c[o]=h[o](r),{c(){e=M("g");for(let f=0;f<s.length;f+=1)s[f].c();i=V(),a.c(),t=A(),this.h()},l(f){e=y(f,"g",{style:!0});var _=T(e);for(let m=0;m<s.length;m+=1)s[m].l(_);_.forEach(b),i=I(f),a.l(f),t=A(),this.h()},h(){j(e,"--transition-ms",r[4]+"ms")},m(f,_){z(f,e,_);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(e,null);z(f,i,_),c[o].m(f,_),z(f,t,_),l=!0},p(f,[_]){if(_&104){n=B(f[5]);let g;for(g=0;g<n.length;g+=1){const u=F(f,n,g);s[g]?s[g].p(u,_):(s[g]=N(u),s[g].c(),s[g].m(e,null))}for(;g<s.length;g+=1)s[g].d(1);s.length=n.length}(!l||_&16)&&j(e,"--transition-ms",f[4]+"ms");let m=o;o=k(f),o===m?c[o].p(f,_):(J(),E(c[m],1,1,()=>{c[m]=null}),K(),a=c[o],a?a.p(f,_):(a=c[o]=h[o](f),a.c()),v(a,1),a.m(t.parentNode,t))},i(f){l||(v(a),l=!0)},o(f){E(a),l=!1},d(f){f&&(b(e),b(i),b(t)),G(s,f),c[o].d(f)}}}function Y(r,e,i,o,a,t,l){if(r.length==1){const w=i.map(S=>S-l);return Math.min(...w)>0&&t.push({name:r[0].name,offsets:e.map(S=>S+l),sizes:w}),t}let n=r[0].weight,s=1,h;for(;s<r.length-1&&(h=r[s],n+=h.weight,s++,!(n>o/2)););const c=n/o*i[a],k=(w,S)=>w.map((P,O)=>O==a?P+S:P),f=k(e,c),_=k(i,-c),m=k(i,c-i[a]),g=(a+1)%e.length,u=(w,S,P,O)=>Y(w,S,P,O,g,t,l);return s>0&&u(r.slice(0,s),e,m,n),s<r.length&&u(r.slice(s),f,_,o-n),t}function re(r,e,i){let o,a,t,l,{data:n}=e,{maxPad:s=10}=e,{width:h=1e3}=e,{height:c=1e3}=e,{combined:k=!1}=e,{colorStart:f=0}=e,{colorEnd:_=1}=e,{transitionMs:m=400}=e;function g(u,w){return w?(f+_)/2:f+(_-f)*(u/o.length)}return r.$$set=u=>{"data"in u&&i(0,n=u.data),"maxPad"in u&&i(7,s=u.maxPad),"width"in u&&i(1,h=u.width),"height"in u&&i(2,c=u.height),"combined"in u&&i(3,k=u.combined),"colorStart"in u&&i(8,f=u.colorStart),"colorEnd"in u&&i(9,_=u.colorEnd),"transitionMs"in u&&i(4,m=u.transitionMs)},r.$$.update=()=>{r.$$.dirty&1&&i(12,o=Object.values(n.children||{})),r.$$.dirty&4096&&i(11,a=o==null?void 0:o.reduce((u,w)=>u+w.weight,0)),r.$$.dirty&136&&i(10,t=k?0:s),r.$$.dirty&7174&&i(5,l=Y(o||[],[0,0],[h,c],a,0,[],t))},[n,h,c,k,m,l,g,s,f,_,t,a,o]}class he extends x{constructor(e){super(),$(this,e,re,ne,Z,{data:0,maxPad:7,width:1,height:2,combined:3,colorStart:8,colorEnd:9,transitionMs:4})}}export{he as T};
